{
  "uuid": "ce23f7d0-466c-4163-8c7f-a33d30b287e3-tr-0-1034",
  "historyId": "TrasferSystemTests.TestResponsibilityRepository.TestDelete",
  "fullName": "TrasferSystemTests.TestResponsibilityRepository.TestDelete",
  "labels": [
    {
      "name": "thread",
      "value": "NonParallelWorker"
    },
    {
      "name": "host",
      "value": "CHESED"
    },
    {
      "name": "package",
      "value": "TrasferSystemTests"
    },
    {
      "name": "testMethod",
      "value": "TestDelete"
    },
    {
      "name": "testClass",
      "value": "TestResponsibilityRepository"
    },
    {
      "name": "owner",
      "value": "mucha"
    }
  ],
  "links": [
    {
      "name": "localhost:80",
      "url": "localhost:80",
      "type": "link"
    }
  ],
  "name": "TestDelete",
  "status": "failed",
  "statusDetails": {
    "known": false,
    "muted": false,
    "flaky": false,
    "message": "ComponentAccessToDB.ResponsibilityAddException : ResponsibilityAdd\r\n  ----> Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.\r\n  ----> Npgsql.PostgresException : 23503: INSERT или UPDATE в таблице \"responsibility\" нарушает ограничение внешнего ключа \"responsibility_employee_fkey\"\r\n\r\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\nData:\r\n  Severity: ОШИБКА\r\n  InvariantSeverity: ERROR\r\n  SqlState: 23503\r\n  MessageText: INSERT или UPDATE в таблице \"responsibility\" нарушает ограничение внешнего ключа \"responsibility_employee_fkey\"\r\n  Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n  SchemaName: public\r\n  TableName: responsibility\r\n  ConstraintName: responsibility_employee_fkey\r\n  File: ri_triggers.c\r\n  Line: 2539\r\n  Routine: ri_ReportViolation",
    "trace": "   at ComponentAccessToDB.ResponsibilityRepository.Add(Responsibility element) in C:\\Users\\ronec\\Desktop\\BMSTU_4Course\\7semester\\testing\\TestingDbCourse\\src\\ComponentAccessToDB\\RepositoryImplementation\\ResponsibilityRepository.cs:line 31\r\n   at TrasferSystemTests.TestResponsibilityRepository.TestDelete() in C:\\Users\\ronec\\Desktop\\BMSTU_4Course\\7semester\\testing\\TestingDbCourse\\src\\TrasferSystemTests\\TestResponsibilityRepository.cs:line 85\r\n--DbUpdateException\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__104_0(DbContext _, ValueTuple`2 t)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()\r\n   at ComponentAccessToDB.ResponsibilityRepository.Add(Responsibility element) in C:\\Users\\ronec\\Desktop\\BMSTU_4Course\\7semester\\testing\\TestingDbCourse\\src\\ComponentAccessToDB\\RepositoryImplementation\\ResponsibilityRepository.cs:line 27\r\n--PostgresException\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|213_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlDataReader.NextResult()\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)\r\n   at System.Data.Common.DbCommand.ExecuteReader()\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)"
  },
  "stage": "finished",
  "description": "Hehe\n",
  "steps": [
    {
      "name": "TestDelete",
      "status": "failed",
      "statusDetails": {
        "known": false,
        "muted": false,
        "flaky": false,
        "message": "ComponentAccessToDB.ResponsibilityAddException : ResponsibilityAdd\r\n  ----> Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while saving the entity changes. See the inner exception for details.\r\n  ----> Npgsql.PostgresException : 23503: INSERT или UPDATE в таблице \"responsibility\" нарушает ограничение внешнего ключа \"responsibility_employee_fkey\"\r\n\r\nDETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\nData:\r\n  Severity: ОШИБКА\r\n  InvariantSeverity: ERROR\r\n  SqlState: 23503\r\n  MessageText: INSERT или UPDATE в таблице \"responsibility\" нарушает ограничение внешнего ключа \"responsibility_employee_fkey\"\r\n  Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.\r\n  SchemaName: public\r\n  TableName: responsibility\r\n  ConstraintName: responsibility_employee_fkey\r\n  File: ri_triggers.c\r\n  Line: 2539\r\n  Routine: ri_ReportViolation",
        "trace": "   at ComponentAccessToDB.ResponsibilityRepository.Add(Responsibility element) in C:\\Users\\ronec\\Desktop\\BMSTU_4Course\\7semester\\testing\\TestingDbCourse\\src\\ComponentAccessToDB\\RepositoryImplementation\\ResponsibilityRepository.cs:line 31\r\n   at TrasferSystemTests.TestResponsibilityRepository.TestDelete() in C:\\Users\\ronec\\Desktop\\BMSTU_4Course\\7semester\\testing\\TestingDbCourse\\src\\TrasferSystemTests\\TestResponsibilityRepository.cs:line 85\r\n--DbUpdateException\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__104_0(DbContext _, ValueTuple`2 t)\r\n   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()\r\n   at ComponentAccessToDB.ResponsibilityRepository.Add(Responsibility element) in C:\\Users\\ronec\\Desktop\\BMSTU_4Course\\7semester\\testing\\TestingDbCourse\\src\\ComponentAccessToDB\\RepositoryImplementation\\ResponsibilityRepository.cs:line 27\r\n--PostgresException\r\n   at Npgsql.Internal.NpgsqlConnector.<ReadMessage>g__ReadMessageLong|213_0(NpgsqlConnector connector, Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)\r\n   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlDataReader.NextResult()\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)\r\n   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)\r\n   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)\r\n   at System.Data.Common.DbCommand.ExecuteReader()\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)"
      },
      "stage": "finished",
      "steps": [],
      "attachments": [
        {
          "name": "Console Output",
          "source": "d9fc3c0e85be4a0dbcc9d93863c08e8f-attachment.txt",
          "type": "text/plain"
        }
      ],
      "parameters": [],
      "start": 1704638554919,
      "stop": 1704638554924
    }
  ],
  "attachments": [],
  "parameters": [],
  "start": 1704638554919,
  "stop": 1704638554924
}